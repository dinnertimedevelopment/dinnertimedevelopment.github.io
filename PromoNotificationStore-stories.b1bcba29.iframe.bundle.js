/*! For license information please see PromoNotificationStore-stories.b1bcba29.iframe.bundle.js.LICENSE.txt */
(self.webpackChunk_dinnertime_react_app=self.webpackChunk_dinnertime_react_app||[]).push([[312],{"../../node_modules/localforage/dist sync recursive":module=>{function webpackEmptyContext(req){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}webpackEmptyContext.keys=()=>[],webpackEmptyContext.resolve=webpackEmptyContext,webpackEmptyContext.id="../../node_modules/localforage/dist sync recursive",module.exports=webpackEmptyContext},"../../node_modules/use-sync-external-store/cjs/use-sync-external-store-shim.production.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var React=__webpack_require__("../../node_modules/next/dist/compiled/react/index.js");var objectIs="function"==typeof Object.is?Object.is:function is(x,y){return x===y&&(0!==x||1/x==1/y)||x!=x&&y!=y},useState=React.useState,useEffect=React.useEffect,useLayoutEffect=React.useLayoutEffect,useDebugValue=React.useDebugValue;function checkIfSnapshotChanged(inst){var latestGetSnapshot=inst.getSnapshot;inst=inst.value;try{var nextValue=latestGetSnapshot();return!objectIs(inst,nextValue)}catch(error){return!0}}var shim="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function useSyncExternalStore$1(subscribe,getSnapshot){return getSnapshot()}:function useSyncExternalStore$2(subscribe,getSnapshot){var value=getSnapshot(),_useState=useState({inst:{value,getSnapshot}}),inst=_useState[0].inst,forceUpdate=_useState[1];return useLayoutEffect((function(){inst.value=value,inst.getSnapshot=getSnapshot,checkIfSnapshotChanged(inst)&&forceUpdate({inst})}),[subscribe,value,getSnapshot]),useEffect((function(){return checkIfSnapshotChanged(inst)&&forceUpdate({inst}),subscribe((function(){checkIfSnapshotChanged(inst)&&forceUpdate({inst})}))}),[subscribe]),useDebugValue(value),value};exports.useSyncExternalStore=void 0!==React.useSyncExternalStore?React.useSyncExternalStore:shim},"../../node_modules/use-sync-external-store/cjs/use-sync-external-store-shim/with-selector.production.js":(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";var React=__webpack_require__("../../node_modules/next/dist/compiled/react/index.js"),shim=__webpack_require__("../../node_modules/use-sync-external-store/shim/index.js");var objectIs="function"==typeof Object.is?Object.is:function is(x,y){return x===y&&(0!==x||1/x==1/y)||x!=x&&y!=y},useSyncExternalStore=shim.useSyncExternalStore,useRef=React.useRef,useEffect=React.useEffect,useMemo=React.useMemo,useDebugValue=React.useDebugValue;exports.useSyncExternalStoreWithSelector=function(subscribe,getSnapshot,getServerSnapshot,selector,isEqual){var instRef=useRef(null);if(null===instRef.current){var inst={hasValue:!1,value:null};instRef.current=inst}else inst=instRef.current;instRef=useMemo((function(){function memoizedSelector(nextSnapshot){if(!hasMemo){if(hasMemo=!0,memoizedSnapshot=nextSnapshot,nextSnapshot=selector(nextSnapshot),void 0!==isEqual&&inst.hasValue){var currentSelection=inst.value;if(isEqual(currentSelection,nextSnapshot))return memoizedSelection=currentSelection}return memoizedSelection=nextSnapshot}if(currentSelection=memoizedSelection,objectIs(memoizedSnapshot,nextSnapshot))return currentSelection;var nextSelection=selector(nextSnapshot);return void 0!==isEqual&&isEqual(currentSelection,nextSelection)?(memoizedSnapshot=nextSnapshot,currentSelection):(memoizedSnapshot=nextSnapshot,memoizedSelection=nextSelection)}var memoizedSnapshot,memoizedSelection,hasMemo=!1,maybeGetServerSnapshot=void 0===getServerSnapshot?null:getServerSnapshot;return[function(){return memoizedSelector(getSnapshot())},null===maybeGetServerSnapshot?void 0:function(){return memoizedSelector(maybeGetServerSnapshot())}]}),[getSnapshot,getServerSnapshot,selector,isEqual]);var value=useSyncExternalStore(subscribe,instRef[0],instRef[1]);return useEffect((function(){inst.hasValue=!0,inst.value=value}),[value]),useDebugValue(value),value}},"../../node_modules/use-sync-external-store/shim/index.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";module.exports=__webpack_require__("../../node_modules/use-sync-external-store/cjs/use-sync-external-store-shim.production.js")},"../../node_modules/use-sync-external-store/shim/with-selector.js":(module,__unused_webpack_exports,__webpack_require__)=>{"use strict";module.exports=__webpack_require__("../../node_modules/use-sync-external-store/cjs/use-sync-external-store-shim/with-selector.production.js")},"../../node_modules/zustand/esm/index.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{vt:()=>create});var zustand_vanilla__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../node_modules/zustand/esm/vanilla.mjs"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/next/dist/compiled/react/index.js"),use_sync_external_store_shim_with_selector_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/use-sync-external-store/shim/with-selector.js"),console=__webpack_require__("../../node_modules/console-browserify/index.js");const{useDebugValue}=react__WEBPACK_IMPORTED_MODULE_0__,{useSyncExternalStoreWithSelector}=use_sync_external_store_shim_with_selector_js__WEBPACK_IMPORTED_MODULE_1__;let didWarnAboutEqualityFn=!1;const identity=arg=>arg;const createImpl=createState=>{"function"!=typeof createState&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const api="function"==typeof createState?(0,zustand_vanilla__WEBPACK_IMPORTED_MODULE_2__.y)(createState):createState,useBoundStore=(selector,equalityFn)=>function useStore(api,selector=identity,equalityFn){equalityFn&&!didWarnAboutEqualityFn&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),didWarnAboutEqualityFn=!0);const slice=useSyncExternalStoreWithSelector(api.subscribe,api.getState,api.getServerState||api.getInitialState,selector,equalityFn);return useDebugValue(slice),slice}(api,selector,equalityFn);return Object.assign(useBoundStore,api),useBoundStore},create=createState=>createState?createImpl(createState):createImpl},"../../node_modules/zustand/esm/middleware.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{Zr:()=>persist,eh:()=>subscribeWithSelector,lt:()=>devtools});var console=__webpack_require__("../../node_modules/console-browserify/index.js");const trackedConnections=new Map,getTrackedConnectionState=name=>{const api=trackedConnections.get(name);return api?Object.fromEntries(Object.entries(api.stores).map((([key,api2])=>[key,api2.getState()]))):{}},devtools=(fn,devtoolsOptions={})=>(set,get,api)=>{const{enabled,anonymousActionType,store,...options}=devtoolsOptions;let extensionConnector;try{extensionConnector=(null==enabled||enabled)&&window.__REDUX_DEVTOOLS_EXTENSION__}catch(_e){}if(!extensionConnector)return enabled&&console.warn("[zustand devtools middleware] Please install/enable Redux devtools extension"),fn(set,get,api);const{connection,...connectionInformation}=((store,extensionConnector,options)=>{if(void 0===store)return{type:"untracked",connection:extensionConnector.connect(options)};const existingConnection=trackedConnections.get(options.name);if(existingConnection)return{type:"tracked",store,...existingConnection};const newConnection={connection:extensionConnector.connect(options),stores:{}};return trackedConnections.set(options.name,newConnection),{type:"tracked",store,...newConnection}})(store,extensionConnector,options);let isRecording=!0;api.setState=(state,replace,nameOrAction)=>{const r=set(state,replace);if(!isRecording)return r;const action=void 0===nameOrAction?{type:anonymousActionType||"anonymous"}:"string"==typeof nameOrAction?{type:nameOrAction}:nameOrAction;return void 0===store?(null==connection||connection.send(action,get()),r):(null==connection||connection.send({...action,type:`${store}/${action.type}`},{...getTrackedConnectionState(options.name),[store]:api.getState()}),r)};const setStateFromDevtools=(...a)=>{const originalIsRecording=isRecording;isRecording=!1,set(...a),isRecording=originalIsRecording},initialState=fn(api.setState,get,api);if("untracked"===connectionInformation.type?null==connection||connection.init(initialState):(connectionInformation.stores[connectionInformation.store]=api,null==connection||connection.init(Object.fromEntries(Object.entries(connectionInformation.stores).map((([key,store2])=>[key,key===connectionInformation.store?initialState:store2.getState()]))))),api.dispatchFromDevtools&&"function"==typeof api.dispatch){let didWarnAboutReservedActionType=!1;const originalDispatch=api.dispatch;api.dispatch=(...a)=>{"__setState"!==a[0].type||didWarnAboutReservedActionType||(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),didWarnAboutReservedActionType=!0),originalDispatch(...a)}}return connection.subscribe((message=>{var _a;switch(message.type){case"ACTION":return"string"!=typeof message.payload?void console.error("[zustand devtools middleware] Unsupported action format"):parseJsonThen(message.payload,(action=>{if("__setState"!==action.type)api.dispatchFromDevtools&&"function"==typeof api.dispatch&&api.dispatch(action);else{if(void 0===store)return void setStateFromDevtools(action.state);1!==Object.keys(action.state).length&&console.error('\n                    [zustand devtools middleware] Unsupported __setState action format. \n                    When using \'store\' option in devtools(), the \'state\' should have only one key, which is a value of \'store\' that was passed in devtools(),\n                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }\n                    ');const stateFromDevtools=action.state[store];if(null==stateFromDevtools)return;JSON.stringify(api.getState())!==JSON.stringify(stateFromDevtools)&&setStateFromDevtools(stateFromDevtools)}}));case"DISPATCH":switch(message.payload.type){case"RESET":return setStateFromDevtools(initialState),void 0===store?null==connection?void 0:connection.init(api.getState()):null==connection?void 0:connection.init(getTrackedConnectionState(options.name));case"COMMIT":return void 0===store?void(null==connection||connection.init(api.getState())):null==connection?void 0:connection.init(getTrackedConnectionState(options.name));case"ROLLBACK":return parseJsonThen(message.state,(state=>{if(void 0===store)return setStateFromDevtools(state),void(null==connection||connection.init(api.getState()));setStateFromDevtools(state[store]),null==connection||connection.init(getTrackedConnectionState(options.name))}));case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return parseJsonThen(message.state,(state=>{void 0!==store?JSON.stringify(api.getState())!==JSON.stringify(state[store])&&setStateFromDevtools(state[store]):setStateFromDevtools(state)}));case"IMPORT_STATE":{const{nextLiftedState}=message.payload,lastComputedState=null==(_a=nextLiftedState.computedStates.slice(-1)[0])?void 0:_a.state;if(!lastComputedState)return;return setStateFromDevtools(void 0===store?lastComputedState:lastComputedState[store]),void(null==connection||connection.send(null,nextLiftedState))}case"PAUSE_RECORDING":return isRecording=!isRecording}return}})),initialState},parseJsonThen=(stringified,f)=>{let parsed;try{parsed=JSON.parse(stringified)}catch(e){console.error("[zustand devtools middleware] Could not parse the received json",e)}void 0!==parsed&&f(parsed)},subscribeWithSelector=fn=>(set,get,api)=>{const origSubscribe=api.subscribe;api.subscribe=(selector,optListener,options)=>{let listener=selector;if(optListener){const equalityFn=(null==options?void 0:options.equalityFn)||Object.is;let currentSlice=selector(api.getState());listener=state=>{const nextSlice=selector(state);if(!equalityFn(currentSlice,nextSlice)){const previousSlice=currentSlice;optListener(currentSlice=nextSlice,previousSlice)}},(null==options?void 0:options.fireImmediately)&&optListener(currentSlice,currentSlice)}return origSubscribe(listener)};return fn(set,get,api)};function createJSONStorage(getStorage,options){let storage;try{storage=getStorage()}catch(_e){return}return{getItem:name=>{var _a;const parse=str2=>null===str2?null:JSON.parse(str2,null==options?void 0:options.reviver),str=null!=(_a=storage.getItem(name))?_a:null;return str instanceof Promise?str.then(parse):parse(str)},setItem:(name,newValue)=>storage.setItem(name,JSON.stringify(newValue,null==options?void 0:options.replacer)),removeItem:name=>storage.removeItem(name)}}const toThenable=fn=>input=>{try{const result=fn(input);return result instanceof Promise?result:{then:onFulfilled=>toThenable(onFulfilled)(result),catch(_onRejected){return this}}}catch(e){return{then(_onFulfilled){return this},catch:onRejected=>toThenable(onRejected)(e)}}},persist=(config,baseOptions)=>"getStorage"in baseOptions||"serialize"in baseOptions||"deserialize"in baseOptions?(console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),((config,baseOptions)=>(set,get,api)=>{let options={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:state=>state,version:0,merge:(persistedState,currentState)=>({...currentState,...persistedState}),...baseOptions},hasHydrated=!1;const hydrationListeners=new Set,finishHydrationListeners=new Set;let storage;try{storage=options.getStorage()}catch(_e){}if(!storage)return config(((...args)=>{console.warn(`[zustand persist middleware] Unable to update item '${options.name}', the given storage is currently unavailable.`),set(...args)}),get,api);const thenableSerialize=toThenable(options.serialize),setItem=()=>{const state=options.partialize({...get()});let errorInSync;const thenable=thenableSerialize({state,version:options.version}).then((serializedValue=>storage.setItem(options.name,serializedValue))).catch((e=>{errorInSync=e}));if(errorInSync)throw errorInSync;return thenable},savedSetState=api.setState;api.setState=(state,replace)=>{savedSetState(state,replace),setItem()};const configResult=config(((...args)=>{set(...args),setItem()}),get,api);let stateFromStorage;const hydrate=()=>{var _a;if(!storage)return;hasHydrated=!1,hydrationListeners.forEach((cb=>cb(get())));const postRehydrationCallback=(null==(_a=options.onRehydrateStorage)?void 0:_a.call(options,get()))||void 0;return toThenable(storage.getItem.bind(storage))(options.name).then((storageValue=>{if(storageValue)return options.deserialize(storageValue)})).then((deserializedStorageValue=>{if(deserializedStorageValue){if("number"!=typeof deserializedStorageValue.version||deserializedStorageValue.version===options.version)return deserializedStorageValue.state;if(options.migrate)return options.migrate(deserializedStorageValue.state,deserializedStorageValue.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}})).then((migratedState=>{var _a2;return stateFromStorage=options.merge(migratedState,null!=(_a2=get())?_a2:configResult),set(stateFromStorage,!0),setItem()})).then((()=>{null==postRehydrationCallback||postRehydrationCallback(stateFromStorage,void 0),hasHydrated=!0,finishHydrationListeners.forEach((cb=>cb(stateFromStorage)))})).catch((e=>{null==postRehydrationCallback||postRehydrationCallback(void 0,e)}))};return api.persist={setOptions:newOptions=>{options={...options,...newOptions},newOptions.getStorage&&(storage=newOptions.getStorage())},clearStorage:()=>{null==storage||storage.removeItem(options.name)},getOptions:()=>options,rehydrate:()=>hydrate(),hasHydrated:()=>hasHydrated,onHydrate:cb=>(hydrationListeners.add(cb),()=>{hydrationListeners.delete(cb)}),onFinishHydration:cb=>(finishHydrationListeners.add(cb),()=>{finishHydrationListeners.delete(cb)})},hydrate(),stateFromStorage||configResult})(config,baseOptions)):((config,baseOptions)=>(set,get,api)=>{let options={storage:createJSONStorage((()=>localStorage)),partialize:state=>state,version:0,merge:(persistedState,currentState)=>({...currentState,...persistedState}),...baseOptions},hasHydrated=!1;const hydrationListeners=new Set,finishHydrationListeners=new Set;let storage=options.storage;if(!storage)return config(((...args)=>{console.warn(`[zustand persist middleware] Unable to update item '${options.name}', the given storage is currently unavailable.`),set(...args)}),get,api);const setItem=()=>{const state=options.partialize({...get()});return storage.setItem(options.name,{state,version:options.version})},savedSetState=api.setState;api.setState=(state,replace)=>{savedSetState(state,replace),setItem()};const configResult=config(((...args)=>{set(...args),setItem()}),get,api);let stateFromStorage;api.getInitialState=()=>configResult;const hydrate=()=>{var _a,_b;if(!storage)return;hasHydrated=!1,hydrationListeners.forEach((cb=>{var _a2;return cb(null!=(_a2=get())?_a2:configResult)}));const postRehydrationCallback=(null==(_b=options.onRehydrateStorage)?void 0:_b.call(options,null!=(_a=get())?_a:configResult))||void 0;return toThenable(storage.getItem.bind(storage))(options.name).then((deserializedStorageValue=>{if(deserializedStorageValue){if("number"!=typeof deserializedStorageValue.version||deserializedStorageValue.version===options.version)return[!1,deserializedStorageValue.state];if(options.migrate)return[!0,options.migrate(deserializedStorageValue.state,deserializedStorageValue.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}return[!1,void 0]})).then((migrationResult=>{var _a2;const[migrated,migratedState]=migrationResult;if(stateFromStorage=options.merge(migratedState,null!=(_a2=get())?_a2:configResult),set(stateFromStorage,!0),migrated)return setItem()})).then((()=>{null==postRehydrationCallback||postRehydrationCallback(stateFromStorage,void 0),stateFromStorage=get(),hasHydrated=!0,finishHydrationListeners.forEach((cb=>cb(stateFromStorage)))})).catch((e=>{null==postRehydrationCallback||postRehydrationCallback(void 0,e)}))};return api.persist={setOptions:newOptions=>{options={...options,...newOptions},newOptions.storage&&(storage=newOptions.storage)},clearStorage:()=>{null==storage||storage.removeItem(options.name)},getOptions:()=>options,rehydrate:()=>hydrate(),hasHydrated:()=>hasHydrated,onHydrate:cb=>(hydrationListeners.add(cb),()=>{hydrationListeners.delete(cb)}),onFinishHydration:cb=>(finishHydrationListeners.add(cb),()=>{finishHydrationListeners.delete(cb)})},options.skipHydration||hydrate(),stateFromStorage||configResult})(config,baseOptions)},"../../node_modules/zustand/esm/vanilla.mjs":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{y:()=>createStore});var console=__webpack_require__("../../node_modules/console-browserify/index.js");const createStoreImpl=createState=>{let state;const listeners=new Set,setState=(partial,replace)=>{const nextState="function"==typeof partial?partial(state):partial;if(!Object.is(nextState,state)){const previousState=state;state=(null!=replace?replace:"object"!=typeof nextState||null===nextState)?nextState:Object.assign({},state,nextState),listeners.forEach((listener=>listener(state,previousState)))}},getState=()=>state,api={setState,getState,getInitialState:()=>initialState,subscribe:listener=>(listeners.add(listener),()=>listeners.delete(listener)),destroy:()=>{console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),listeners.clear()}},initialState=state=createState(setState,getState,api);return api},createStore=createState=>createState?createStoreImpl(createState):createStoreImpl},"./src/context/localforage/index.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{xF:()=>LocalForageProvider,xu:()=>useLocalforage});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/next/dist/compiled/react/index.js"),localforage__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/localforage/dist/localforage.js"),localforage__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(localforage__WEBPACK_IMPORTED_MODULE_1__),lodash__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../node_modules/lodash/lodash.js"),__jsx=react__WEBPACK_IMPORTED_MODULE_0__.createElement,DB_NAME="dt/localforage-state",defaultContext=(0,react__WEBPACK_IMPORTED_MODULE_0__.createContext)(void 0);function LocalForageProvider(props){var _props$db,db=null!==(_props$db=props.db)&&void 0!==_props$db?_props$db:function crateLocalforage(){return localforage__WEBPACK_IMPORTED_MODULE_1___default().createInstance({name:DB_NAME})}();return __jsx(defaultContext.Provider,{value:{db}},props.children)}function useLocalforage(){var ctx=(0,react__WEBPACK_IMPORTED_MODULE_0__.useContext)(defaultContext);if((0,lodash__WEBPACK_IMPORTED_MODULE_2__.isNil)(ctx))throw new Error("no LocalForageProvider is found in react tree. Be sure to include the provider");return ctx}LocalForageProvider.displayName="LocalForageProvider";try{LocalForageProvider.displayName="LocalForageProvider",LocalForageProvider.__docgenInfo={description:"",displayName:"LocalForageProvider",props:{db:{defaultValue:null,description:"",name:"db",required:!1,type:{name:"LocalForage"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/context/localforage/index.tsx#LocalForageProvider"]={docgenInfo:LocalForageProvider.__docgenInfo,name:"LocalForageProvider",path:"src/context/localforage/index.tsx#LocalForageProvider"})}catch(__react_docgen_typescript_loader_error){}},"./src/store/store-providers.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{B2:()=>PromoNotificationStoreProvider,lM:()=>usePromoNotificationStore});var react=__webpack_require__("../../node_modules/next/dist/compiled/react/index.js"),defineProperty=__webpack_require__("../../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),stores=__webpack_require__("./src/utils/stores.ts"),esm=__webpack_require__("../../node_modules/zustand/esm/index.mjs"),middleware=__webpack_require__("../../node_modules/zustand/esm/middleware.mjs");function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){(0,defineProperty.A)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var defaultPromoState={seen:!1,dismissed:!1},initialState={instacartDeliveryFeature:_objectSpread({},defaultPromoState),instacartInstructions:_objectSpread({},defaultPromoState)},promoNotificationState=function promoNotificationState(set){return _objectSpread(_objectSpread({},initialState),{},{setInstacartDeliveryFeature:function setInstacartDeliveryFeature(value){return set({instacartDeliveryFeature:value})},setInstacartInstructions:function setInstacartInstructions(value){return set({instacartInstructions:value})}})},DB_NAME="PROMO_NOTIFICATION_STORE";function createPersistentStoreHook(getStorage){var storeFn=null!=getStorage?getStorage:stores.AY;return(0,esm.vt)((0,middleware.Zr)((0,middleware.lt)(promoNotificationState,{enabled:!1,name:"promoNotificationStore"}),{name:DB_NAME,getStorage:storeFn}))}function createStoreHook(db){return createPersistentStoreHook((function(){return(0,stores.M1)(db)}))}try{createPersistentStoreHook.displayName="createPersistentStoreHook",createPersistentStoreHook.__docgenInfo={description:"",displayName:"createPersistentStoreHook",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/store/promo-notification-store.tsx#createPersistentStoreHook"]={docgenInfo:createPersistentStoreHook.__docgenInfo,name:"createPersistentStoreHook",path:"src/store/promo-notification-store.tsx#createPersistentStoreHook"})}catch(__react_docgen_typescript_loader_error){}try{createStoreHook.displayName="createStoreHook",createStoreHook.__docgenInfo={description:"",displayName:"createStoreHook",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/store/promo-notification-store.tsx#createStoreHook"]={docgenInfo:createStoreHook.__docgenInfo,name:"createStoreHook",path:"src/store/promo-notification-store.tsx#createStoreHook"})}catch(__react_docgen_typescript_loader_error){}var errors=__webpack_require__("./src/utils/errors.ts"),lodash=__webpack_require__("../../node_modules/lodash/lodash.js");var localforage=__webpack_require__("./src/context/localforage/index.tsx"),__jsx=react.createElement,PromoNotificationStoreContext=(0,react.createContext)(null);function PromoNotificationStoreProvider(_ref){var children=_ref.children,db=_ref.db,defaultDb=(0,localforage.xu)().db;db=null!=db?db:defaultDb;var useStoreRef=(0,react.useRef)(createStoreHook(db));return __jsx(PromoNotificationStoreContext.Provider,{value:useStoreRef.current},children)}function usePromoNotificationStore(){return function useRequiredContext(context,providerName){var ctx=(0,react.useContext)(context);if((0,lodash.isNil)(ctx))throw new errors.Ut(providerName);return ctx}(PromoNotificationStoreContext,"PromoNotificationStoreProvider")}function DefaultStoreProvider(_ref2){var children=_ref2.children;return __jsx(PromoNotificationStoreProvider,null,children)}PromoNotificationStoreProvider.displayName="PromoNotificationStoreProvider",DefaultStoreProvider.displayName="DefaultStoreProvider";try{PromoNotificationStoreProvider.displayName="PromoNotificationStoreProvider",PromoNotificationStoreProvider.__docgenInfo={description:"",displayName:"PromoNotificationStoreProvider",props:{db:{defaultValue:null,description:"",name:"db",required:!1,type:{name:"LocalForage"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/store/store-providers.tsx#PromoNotificationStoreProvider"]={docgenInfo:PromoNotificationStoreProvider.__docgenInfo,name:"PromoNotificationStoreProvider",path:"src/store/store-providers.tsx#PromoNotificationStoreProvider"})}catch(__react_docgen_typescript_loader_error){}try{DefaultStoreProvider.displayName="DefaultStoreProvider",DefaultStoreProvider.__docgenInfo={description:"Provider injecting any stores that require react context injection for the application.\nConvenience component that eliminates the need to declare each store provider",displayName:"DefaultStoreProvider",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/store/store-providers.tsx#DefaultStoreProvider"]={docgenInfo:DefaultStoreProvider.__docgenInfo,name:"DefaultStoreProvider",path:"src/store/store-providers.tsx#DefaultStoreProvider"})}catch(__react_docgen_typescript_loader_error){}},"./src/stories/delivery/PromoNotificationStore.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Primary:()=>Primary,PromoNotificationStateDemo:()=>PromoNotificationStateDemo,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});var _home_steve_projects_dinnertime_dinnertime_react_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("../../node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),_home_steve_projects_dinnertime_dinnertime_react_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/next/dist/compiled/react/index.js"),_home_steve_projects_dinnertime_dinnertime_react_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/@babel/runtime/regenerator/index.js"),_home_steve_projects_dinnertime_dinnertime_react_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(_home_steve_projects_dinnertime_dinnertime_react_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_1__),_context_localforage__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/context/localforage/index.tsx"),_store_store_providers__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/store/store-providers.tsx"),lodash__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../../node_modules/lodash/lodash.js"),__jsx=react__WEBPACK_IMPORTED_MODULE_0__.createElement;function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){(0,_home_steve_projects_dinnertime_dinnertime_react_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_2__.A)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}function PromoNotificationStateDemo(){var _usePromoNotification=(0,_store_store_providers__WEBPACK_IMPORTED_MODULE_4__.lM)()((function(x){return(0,lodash__WEBPACK_IMPORTED_MODULE_5__.pick)(x,["instacartDeliveryFeature","setInstacartDeliveryFeature"])})),setInstacartDeliveryFeature=_usePromoNotification.setInstacartDeliveryFeature,instacartDeliveryFeature=_usePromoNotification.instacartDeliveryFeature;(0,_context_localforage__WEBPACK_IMPORTED_MODULE_3__.xu)().db;return __jsx("div",null,__jsx("h1",null,"Store"),__jsx("code",null,__jsx("pre",null,JSON.stringify({state:instacartDeliveryFeature},null,2))),__jsx("button",{onClick:function onClick(){return setInstacartDeliveryFeature(_objectSpread(_objectSpread({},instacartDeliveryFeature),{},{seen:!0}))}},"Seen"),__jsx("button",{onClick:function onClick(){return setInstacartDeliveryFeature(_objectSpread(_objectSpread({},instacartDeliveryFeature),{},{dismissed:!0}))}},"dismiss"),__jsx("button",{onClick:(0,_home_steve_projects_dinnertime_dinnertime_react_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_6__.A)(_home_steve_projects_dinnertime_dinnertime_react_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_1___default().mark((function _callee(){return _home_steve_projects_dinnertime_dinnertime_react_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_1___default().wrap((function(_context){for(;;)switch(_context.prev=_context.next){case 0:setInstacartDeliveryFeature({seen:!1,dismissed:!1});case 1:case"end":return _context.stop()}}),_callee)})))},"Reset"))}PromoNotificationStateDemo.displayName="PromoNotificationStateDemo";const __WEBPACK_DEFAULT_EXPORT__={component:PromoNotificationStateDemo,decorators:[function(Story){return __jsx(_context_localforage__WEBPACK_IMPORTED_MODULE_3__.xF,null,__jsx(_store_store_providers__WEBPACK_IMPORTED_MODULE_4__.B2,null,__jsx(Story,null)))}]};var Primary={};PromoNotificationStateDemo.parameters={...PromoNotificationStateDemo.parameters,docs:{...PromoNotificationStateDemo.parameters?.docs,source:{originalSource:"function PromoNotificationStateDemo() {\n  const {\n    setInstacartDeliveryFeature,\n    instacartDeliveryFeature\n  } = usePromoNotificationStore()(x => pick(x, ['instacartDeliveryFeature', 'setInstacartDeliveryFeature']));\n  const {\n    db\n  } = useLocalforage();\n  return <div>\n      <h1>Store</h1>\n      <code>\n        <pre>\n          {JSON.stringify({\n          state: instacartDeliveryFeature\n        }, null, 2)}\n        </pre>\n      </code>\n\n      <button onClick={() => setInstacartDeliveryFeature({\n      ...instacartDeliveryFeature,\n      seen: true\n    })}>\n        Seen\n      </button>\n      <button onClick={() => setInstacartDeliveryFeature({\n      ...instacartDeliveryFeature,\n      dismissed: true\n    })}>\n        dismiss\n      </button>\n      <button onClick={async () => {\n      setInstacartDeliveryFeature({\n        seen: false,\n        dismissed: false\n      });\n    }}>\n        Reset\n      </button>\n    </div>;\n}",...PromoNotificationStateDemo.parameters?.docs?.source}}},Primary.parameters={...Primary.parameters,docs:{...Primary.parameters?.docs,source:{originalSource:"{}",...Primary.parameters?.docs?.source}}};const __namedExportsOrder=["PromoNotificationStateDemo","Primary"]},"./src/utils/errors.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{F0:()=>isAxiosError,Ut:()=>MissingProviderError,hD:()=>ApiError});var _home_steve_projects_dinnertime_dinnertime_react_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("../../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),_home_steve_projects_dinnertime_dinnertime_react_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("../../node_modules/@babel/runtime/helpers/esm/createClass.js"),_home_steve_projects_dinnertime_dinnertime_react_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("../../node_modules/@babel/runtime/helpers/esm/classCallCheck.js"),_home_steve_projects_dinnertime_dinnertime_react_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"),_home_steve_projects_dinnertime_dinnertime_react_node_modules_babel_runtime_helpers_esm_getPrototypeOf_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js"),_home_steve_projects_dinnertime_dinnertime_react_node_modules_babel_runtime_helpers_esm_inherits_js__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("../../node_modules/@babel/runtime/helpers/esm/inherits.js"),_home_steve_projects_dinnertime_dinnertime_react_node_modules_babel_runtime_helpers_esm_wrapNativeSuper_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../../node_modules/@babel/runtime/helpers/esm/wrapNativeSuper.js"),axios__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("../../node_modules/axios/index.js");function _callSuper(t,o,e){return o=(0,_home_steve_projects_dinnertime_dinnertime_react_node_modules_babel_runtime_helpers_esm_getPrototypeOf_js__WEBPACK_IMPORTED_MODULE_0__.A)(o),(0,_home_steve_projects_dinnertime_dinnertime_react_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn_js__WEBPACK_IMPORTED_MODULE_1__.A)(t,_isNativeReflectConstruct()?Reflect.construct(o,e||[],(0,_home_steve_projects_dinnertime_dinnertime_react_node_modules_babel_runtime_helpers_esm_getPrototypeOf_js__WEBPACK_IMPORTED_MODULE_0__.A)(t).constructor):o.apply(t,e))}function _isNativeReflectConstruct(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(_isNativeReflectConstruct=function _isNativeReflectConstruct(){return!!t})()}var ApiError=function(_DinnertimeError){function ApiError(cause,message){var _this;return(0,_home_steve_projects_dinnertime_dinnertime_react_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_2__.A)(this,ApiError),_this=_callSuper(this,ApiError,[null!=message?message:"ApiError: ".concat(cause.message)]),(0,_home_steve_projects_dinnertime_dinnertime_react_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_6__.A)(_this,"cause",void 0),_this.cause=cause,_this}return(0,_home_steve_projects_dinnertime_dinnertime_react_node_modules_babel_runtime_helpers_esm_inherits_js__WEBPACK_IMPORTED_MODULE_3__.A)(ApiError,_DinnertimeError),(0,_home_steve_projects_dinnertime_dinnertime_react_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_4__.A)(ApiError,[{key:"data",get:function get(){var _this$cause$response;return null===(_this$cause$response=this.cause.response)||void 0===_this$cause$response?void 0:_this$cause$response.data}},{key:"status",get:function get(){var _this$cause$response2;return null===(_this$cause$response2=this.cause.response)||void 0===_this$cause$response2?void 0:_this$cause$response2.status}},{key:"statusText",get:function get(){var _this$cause$response3;return null===(_this$cause$response3=this.cause.response)||void 0===_this$cause$response3?void 0:_this$cause$response3.statusText}},{key:"headers",get:function get(){var _this$cause$response4;return null===(_this$cause$response4=this.cause.response)||void 0===_this$cause$response4?void 0:_this$cause$response4.headers}},{key:"config",get:function get(){var _this$cause$response5;return null===(_this$cause$response5=this.cause.response)||void 0===_this$cause$response5?void 0:_this$cause$response5.config}},{key:"request",get:function get(){return this.cause.request}}])}(function(_Error){function DinnertimeError(){return(0,_home_steve_projects_dinnertime_dinnertime_react_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_2__.A)(this,DinnertimeError),_callSuper(this,DinnertimeError,arguments)}return(0,_home_steve_projects_dinnertime_dinnertime_react_node_modules_babel_runtime_helpers_esm_inherits_js__WEBPACK_IMPORTED_MODULE_3__.A)(DinnertimeError,_Error),(0,_home_steve_projects_dinnertime_dinnertime_react_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_4__.A)(DinnertimeError)}((0,_home_steve_projects_dinnertime_dinnertime_react_node_modules_babel_runtime_helpers_esm_wrapNativeSuper_js__WEBPACK_IMPORTED_MODULE_5__.A)(Error)));function isAxiosError(e){return(0,axios__WEBPACK_IMPORTED_MODULE_7__.F0)(e)}var MissingProviderError=function(_Error2){function MissingProviderError(providerName){var _this2;return(0,_home_steve_projects_dinnertime_dinnertime_react_node_modules_babel_runtime_helpers_esm_classCallCheck_js__WEBPACK_IMPORTED_MODULE_2__.A)(this,MissingProviderError),_this2=_callSuper(this,MissingProviderError,["Provider ".concat(providerName," is missing from react tree. Make sure it is declared")]),(0,_home_steve_projects_dinnertime_dinnertime_react_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_6__.A)(_this2,"providerName",void 0),_this2.providerName=providerName,_this2}return(0,_home_steve_projects_dinnertime_dinnertime_react_node_modules_babel_runtime_helpers_esm_inherits_js__WEBPACK_IMPORTED_MODULE_3__.A)(MissingProviderError,_Error2),(0,_home_steve_projects_dinnertime_dinnertime_react_node_modules_babel_runtime_helpers_esm_createClass_js__WEBPACK_IMPORTED_MODULE_4__.A)(MissingProviderError)}((0,_home_steve_projects_dinnertime_dinnertime_react_node_modules_babel_runtime_helpers_esm_wrapNativeSuper_js__WEBPACK_IMPORTED_MODULE_5__.A)(Error))},"./src/utils/stores.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";function localForageStateStore(db){return{getItem:function getItem(name){return db.getItem(name)},setItem:function setItem(name,value){return db.setItem(name,value).then((function(){}))},removeItem:function removeItem(name){return db.removeItem(name)}}}function nullStateStore(){return{getItem:function getItem(_name){return null},setItem:function setItem(_name,_value){},removeItem:function removeItem(_name){}}}function sliceOf(fn){return fn}__webpack_require__.d(__webpack_exports__,{AY:()=>nullStateStore,M1:()=>localForageStateStore,Mz:()=>sliceOf})}}]);