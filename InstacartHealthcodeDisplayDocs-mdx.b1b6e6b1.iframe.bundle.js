(self.webpackChunk_dinnertime_react_app=self.webpackChunk_dinnertime_react_app||[]).push([[496],{"../../node_modules/@mdx-js/react/lib/index.js":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{BN:()=>MDXContext,RP:()=>useMDXComponents,gz:()=>withMDXComponents,xA:()=>MDXProvider});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/next/dist/compiled/react/index.js");const MDXContext=react__WEBPACK_IMPORTED_MODULE_0__.createContext({});function withMDXComponents(Component){return function boundMDXComponent(props){const allComponents=useMDXComponents(props.components);return react__WEBPACK_IMPORTED_MODULE_0__.createElement(Component,{...props,allComponents})}}function useMDXComponents(components){const contextComponents=react__WEBPACK_IMPORTED_MODULE_0__.useContext(MDXContext);return react__WEBPACK_IMPORTED_MODULE_0__.useMemo((()=>"function"==typeof components?components(contextComponents):{...contextComponents,...components}),[contextComponents,components])}const emptyObject={};function MDXProvider({components,children,disableParentContext}){let allComponents;return allComponents=disableParentContext?"function"==typeof components?components({}):components||emptyObject:useMDXComponents(components),react__WEBPACK_IMPORTED_MODULE_0__.createElement(MDXContext.Provider,{value:allComponents},children)}},"../../node_modules/memoizerific sync recursive":module=>{function webpackEmptyContext(req){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}webpackEmptyContext.keys=()=>[],webpackEmptyContext.resolve=webpackEmptyContext,webpackEmptyContext.id="../../node_modules/memoizerific sync recursive",module.exports=webpackEmptyContext},"./src/components/delivery/InstacartHealthTutorial.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{lO:()=>InstacartPreSubmitWithHealthCodes});var _home_steve_projects_dinnertime_dinnertime_react_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("../../node_modules/@babel/runtime/helpers/esm/extends.js"),_home_steve_projects_dinnertime_dinnertime_react_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../../node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/next/dist/compiled/react/index.js"),_emotion_styled__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/@emotion/styled/dist/emotion-styled.browser.esm.js"),_base_text_link__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/components/base/text-link/index.ts"),_InstacartHealthCodeTooltip__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/components/delivery/InstacartHealthCodeTooltip.tsx"),_utils_lang__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/utils/lang.ts"),_excluded=["colors","space"],__jsx=react__WEBPACK_IMPORTED_MODULE_0__.createElement;function _createForOfIteratorHelper(r,e){var t="undefined"!=typeof Symbol&&r[Symbol.iterator]||r["@@iterator"];if(!t){if(Array.isArray(r)||(t=function _unsupportedIterableToArray(r,a){if(r){if("string"==typeof r)return _arrayLikeToArray(r,a);var t={}.toString.call(r).slice(8,-1);return"Object"===t&&r.constructor&&(t=r.constructor.name),"Map"===t||"Set"===t?Array.from(r):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(r,a):void 0}}(r))||e&&r&&"number"==typeof r.length){t&&(r=t);var _n=0,F=function F(){};return{s:F,n:function n(){return _n>=r.length?{done:!0}:{done:!1,value:r[_n++]}},e:function e(r){throw r},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,u=!1;return{s:function s(){t=t.call(r)},n:function n(){var r=t.next();return a=r.done,r},e:function e(r){u=!0,o=r},f:function f(){try{a||null==t.return||t.return()}finally{if(u)throw o}}}}function _arrayLikeToArray(r,a){(null==a||a>r.length)&&(a=r.length);for(var e=0,n=Array(a);e<a;e++)n[e]=r[e];return n}function InstacartPreSubmitWithHealthCodesUnstyled(_ref){var codes=_ref.codes,className=_ref.className,_ref$displayState=(_ref.variant,_ref.displayState),displayState=void 0===_ref$displayState?"start":_ref$displayState,_ref$setDispalyState=_ref.setDispalyState,setDispalyState=void 0===_ref$setDispalyState?function(){}:_ref$setDispalyState,classNames=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return codes.map((function(x){return["healthcode-item"].concat(x.code_requested?["healthcode-item--requested"]:[]).join(" ")}))}),[codes]);return __jsx("div",{className},__jsx("h2",{className:"ich-row ich-header"},"We're sending your grocery list to Instacart!"),__jsx("div",{className:"ich-tutorial ich-row"},__jsx("h3",{className:"ich-header"},"You have DinnerTime rewards to redeem"),__jsx("div",null,__jsx("ul",{className:"healthcode-list"},codes.map((function(code,idx){return __jsx(_InstacartHealthCodeTooltip__WEBPACK_IMPORTED_MODULE_3__.AW,{className:classNames[idx],code,key:code.id,onCodeCopied:function onCodeCopied(code){"copied"!==displayState&&setDispalyState("copied")}})}))))),__jsx("div",{className:"instacart-tutorial ich-row"},"copied"===displayState?__jsx(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,__jsx("p",null,"Visit"," ",__jsx(_base_text_link__WEBPACK_IMPORTED_MODULE_2__.Yq,{color:"linkSecondary",isExternal:!0},"Instacart Health")," ","to redeem the above ",(0,_utils_lang__WEBPACK_IMPORTED_MODULE_4__.MA)(codes.length,"code","codes"))):__jsx(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null),__jsx("p",{className:"ich-row"},"After redeeming your code, return to DinnerTime to send your grocery list to Instacart")))}InstacartPreSubmitWithHealthCodesUnstyled.displayName="InstacartPreSubmitWithHealthCodesUnstyled";var InstacartPreSubmitWithHealthCodes=(0,_emotion_styled__WEBPACK_IMPORTED_MODULE_1__.A)(InstacartPreSubmitWithHealthCodesUnstyled)((function(_ref2){var _ref2$variant=_ref2.variant,variant=void 0===_ref2$variant?"light":_ref2$variant,_ref2$theme=_ref2.theme,colors=_ref2$theme.colors,space=_ref2$theme.space,theme=(0,_home_steve_projects_dinnertime_dinnertime_react_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_5__.A)(_ref2$theme,_excluded);return{color:"dark"===variant?colors.white:colors.bodyText,display:"flex",flexDirection:"column",justifyContent:"space-between","& .ich-header":{fontWeight:theme.fontWeights.semiBold},"& .ich-row":{padding:space.xs},"& .healthcode-list":{paddingTop:space.xs},"& .healthcode-item":{listStyle:"none"}}}));function InstacartPreSubmitWithHealthCodesStateful(props){var _useState=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(anyCodesRetrieved(props.codes)?"retrieved":"start"),displayState=_useState[0],setDisplayState=_useState[1];return(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){"start"===displayState&&anyCodesRetrieved(props.codes)&&setDisplayState("retrieved")}),[displayState,setDisplayState,props.codes]),__jsx(InstacartPreSubmitWithHealthCodes,(0,_home_steve_projects_dinnertime_dinnertime_react_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_6__.A)({},props,{displayState,setDispalyState:setDisplayState}))}function anyCodesRetrieved(codes){var _step,_iterator=_createForOfIteratorHelper(codes);try{for(_iterator.s();!(_step=_iterator.n()).done;){if(_step.value.code_requested)return!0}}catch(err){_iterator.e(err)}finally{_iterator.f()}return!1}InstacartPreSubmitWithHealthCodesStateful.displayName="InstacartPreSubmitWithHealthCodesStateful";try{InstacartPreSubmitWithHealthCodesUnstyled.displayName="InstacartPreSubmitWithHealthCodesUnstyled",InstacartPreSubmitWithHealthCodesUnstyled.__docgenInfo={description:"",displayName:"InstacartPreSubmitWithHealthCodesUnstyled",props:{codes:{defaultValue:null,description:"",name:"codes",required:!0,type:{name:"InstacartHealthCodeSchema[]"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},variant:{defaultValue:{value:"light"},description:"",name:"variant",required:!1,type:{name:"enum",value:[{value:'"light"'},{value:'"dark"'}]}},displayState:{defaultValue:{value:"start"},description:"",name:"displayState",required:!1,type:{name:"enum",value:[{value:'"start"'},{value:'"retrieved"'},{value:'"copied"'}]}},setDispalyState:{defaultValue:{value:"() => {}"},description:"",name:"setDispalyState",required:!1,type:{name:"((value: ICHTutorialDisplayState) => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/delivery/InstacartHealthTutorial.tsx#InstacartPreSubmitWithHealthCodesUnstyled"]={docgenInfo:InstacartPreSubmitWithHealthCodesUnstyled.__docgenInfo,name:"InstacartPreSubmitWithHealthCodesUnstyled",path:"src/components/delivery/InstacartHealthTutorial.tsx#InstacartPreSubmitWithHealthCodesUnstyled"})}catch(__react_docgen_typescript_loader_error){}try{InstacartPreSubmitWithHealthCodesStateful.displayName="InstacartPreSubmitWithHealthCodesStateful",InstacartPreSubmitWithHealthCodesStateful.__docgenInfo={description:"Instacart Health Code tutorial with state managed within the container component",displayName:"InstacartPreSubmitWithHealthCodesStateful",props:{variant:{defaultValue:null,description:"",name:"variant",required:!1,type:{name:"enum",value:[{value:'"light"'},{value:'"dark"'}]}},theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"Theme"}},codes:{defaultValue:null,description:"",name:"codes",required:!0,type:{name:"InstacartHealthCodeSchema[]"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},setDispalyState:{defaultValue:null,description:"",name:"setDispalyState",required:!1,type:{name:"((value: ICHTutorialDisplayState) => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/delivery/InstacartHealthTutorial.tsx#InstacartPreSubmitWithHealthCodesStateful"]={docgenInfo:InstacartPreSubmitWithHealthCodesStateful.__docgenInfo,name:"InstacartPreSubmitWithHealthCodesStateful",path:"src/components/delivery/InstacartHealthTutorial.tsx#InstacartPreSubmitWithHealthCodesStateful"})}catch(__react_docgen_typescript_loader_error){}try{InstacartPreSubmitWithHealthCodes.displayName="InstacartPreSubmitWithHealthCodes",InstacartPreSubmitWithHealthCodes.__docgenInfo={description:"",displayName:"InstacartPreSubmitWithHealthCodes",props:{codes:{defaultValue:null,description:"",name:"codes",required:!0,type:{name:"InstacartHealthCodeSchema[]"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},variant:{defaultValue:null,description:"",name:"variant",required:!1,type:{name:"enum",value:[{value:'"light"'},{value:'"dark"'}]}},displayState:{defaultValue:null,description:"",name:"displayState",required:!1,type:{name:"enum",value:[{value:'"start"'},{value:'"retrieved"'},{value:'"copied"'}]}},setDispalyState:{defaultValue:null,description:"",name:"setDispalyState",required:!1,type:{name:"((value: ICHTutorialDisplayState) => void)"}},theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"Theme"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/delivery/InstacartHealthTutorial.tsx#InstacartPreSubmitWithHealthCodes"]={docgenInfo:InstacartPreSubmitWithHealthCodes.__docgenInfo,name:"InstacartPreSubmitWithHealthCodes",path:"src/components/delivery/InstacartHealthTutorial.tsx#InstacartPreSubmitWithHealthCodes"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/delivery/InstacartTutorialPopup.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{EO:()=>InstacartTooltipContent,ar:()=>InstacartTutorialPopup});var _templateObject,_home_steve_projects_dinnertime_dinnertime_react_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("../../node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/next/dist/compiled/react/index.js"),_emotion_react__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("../../node_modules/@emotion/react/dist/emotion-element-f0de968e.browser.esm.js"),_emotion_styled__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/@emotion/styled/dist/emotion-styled.browser.esm.js"),_base_buttons__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/components/base/buttons/index.ts"),_base_card__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/components/base/card/index.ts"),_base_checkbox_Checkbox__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/components/base/checkbox/Checkbox.tsx"),_base_flex__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/components/base/flex/index.ts"),_base_modal__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/components/base/modal/index.ts"),_base_text__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/components/base/text/index.ts"),__jsx=react__WEBPACK_IMPORTED_MODULE_0__.createElement;(0,_emotion_styled__WEBPACK_IMPORTED_MODULE_1__.A)(_base_card__WEBPACK_IMPORTED_MODULE_3__.Z)(_templateObject||(_templateObject=(0,_home_steve_projects_dinnertime_dinnertime_react_node_modules_babel_runtime_helpers_esm_taggedTemplateLiteral_js__WEBPACK_IMPORTED_MODULE_8__.A)(["\n  padding: 1rem;\n  margin: 1rem;\n  & .submit-form {\n    margin-top: 2rem;\n  }\n"])));function InstacartTutorialPopup(_ref){var children=_ref.children,isOpen=_ref.isOpen,isDismissable=_ref.isDismissable,_onSubmit=_ref.onSubmit,_useState=((0,_emotion_react__WEBPACK_IMPORTED_MODULE_9__.u)(),(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1)),dismiss=_useState[0],setDismiss=_useState[1];return isOpen?__jsx(_base_modal__WEBPACK_IMPORTED_MODULE_6__.aF,{isOpen:!0,setIsOpen:function setIsOpen(value){value||_onSubmit(dismiss)}},__jsx(_base_modal__WEBPACK_IMPORTED_MODULE_6__.mH,null),__jsx(_base_modal__WEBPACK_IMPORTED_MODULE_6__.$m,{width:"560px"},__jsx(_base_modal__WEBPACK_IMPORTED_MODULE_6__.rQ,null,__jsx(_base_modal__WEBPACK_IMPORTED_MODULE_6__.s_,null)),__jsx(_base_modal__WEBPACK_IMPORTED_MODULE_6__.cw,{flexDirection:"column",justifyContent:"center"},children,isDismissable&&__jsx(_base_checkbox_Checkbox__WEBPACK_IMPORTED_MODULE_4__.Sc,{name:"dismiss",label:"Don't Show Again",checked:dismiss,onChange:function onChange(e){return setDismiss(e.target.checked)}})),__jsx(_base_modal__WEBPACK_IMPORTED_MODULE_6__.jl,{justifyContent:"center"},__jsx(_base_flex__WEBPACK_IMPORTED_MODULE_5__.s,{flexDirection:"column"},__jsx("form",{onSubmit:function onSubmit(e){e.preventDefault(),_onSubmit(dismiss)}},__jsx(_base_buttons__WEBPACK_IMPORTED_MODULE_2__.$n,{type:"submit"},"Continue")))))):__jsx(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null)}var InstacartTooltipContent=function InstacartTooltipContent(){return __jsx(react__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,__jsx(_base_text__WEBPACK_IMPORTED_MODULE_7__.H3,null,"This allows you to send your grocery list to Instacart for delivery or pickup"),__jsx(_base_text__WEBPACK_IMPORTED_MODULE_7__.P,null,"After clicking, you will be redirected to Instacart. We'll send over your grocery list automatically, so you can select specific brands, remove items you don't need, or simply add them to your Instacart shopping cart."))};try{InstacartTutorialPopup.displayName="InstacartTutorialPopup",InstacartTutorialPopup.__docgenInfo={description:"",displayName:"InstacartTutorialPopup",props:{isOpen:{defaultValue:null,description:"",name:"isOpen",required:!0,type:{name:"boolean"}},isDismissable:{defaultValue:null,description:"",name:"isDismissable",required:!0,type:{name:"boolean"}},onSubmit:{defaultValue:null,description:"",name:"onSubmit",required:!0,type:{name:"(isDismissed: boolean) => void | Promise<void>"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/delivery/InstacartTutorialPopup.tsx#InstacartTutorialPopup"]={docgenInfo:InstacartTutorialPopup.__docgenInfo,name:"InstacartTutorialPopup",path:"src/components/delivery/InstacartTutorialPopup.tsx#InstacartTutorialPopup"})}catch(__react_docgen_typescript_loader_error){}},"./src/stories/delivery/InstacartHealthcodeDisplayDocs.mdx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>InstacartHealthcodeDisplayDocs});__webpack_require__("../../node_modules/next/dist/compiled/react/index.js");var jsx_runtime=__webpack_require__("../../node_modules/next/dist/compiled/react/jsx-runtime.js"),lib=__webpack_require__("../../node_modules/@mdx-js/react/lib/index.js"),external_STORYBOOK_MODULE_CLIENT_LOGGER_=__webpack_require__("@storybook/client-logger"),dist=__webpack_require__("../../node_modules/@storybook/blocks/dist/index.mjs");(0,external_STORYBOOK_MODULE_CLIENT_LOGGER_.deprecate)("Import from '@storybook/addon-docs/blocks' is deprecated. Please import from '@storybook/blocks' instead.");var InstacartPreSubmitWithHealthCodes_stories=__webpack_require__("./src/stories/delivery/popup/InstacartPreSubmitWithHealthCodes.stories.tsx"),ICHSettingsContent_stories=__webpack_require__("./src/stories/delivery/health-codes/ICHSettingsContent.stories.tsx");function _createMdxContent(props){const _components=Object.assign({h1:"h1",p:"p",code:"code"},(0,lib.RP)(),props.components);return(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(dist.W8,{title:"Instacart Healthcode Display"}),"\n",(0,jsx_runtime.jsx)(_components.h1,{id:"instacart-health-codes",children:"Instacart Health Codes"}),"\n",(0,jsx_runtime.jsx)(_components.p,{children:"Currently, we expose the ICH fresh funds to users in two places: when sending a grocery list to Instacart\nfor delivery or pickup, and in the settings tab for later reference. We have use a similar UI in both contexts"}),"\n",(0,jsx_runtime.jsx)(dist.gG,{of:InstacartPreSubmitWithHealthCodes_stories.InDeliveryModal,height:"60vh"}),"\n",(0,jsx_runtime.jsx)(dist.H2,{of:InstacartPreSubmitWithHealthCodes_stories.InDeliveryModal}),"\n",(0,jsx_runtime.jsx)(_components.p,{children:"In the Settings Page, it will be displayed like this:"}),"\n",(0,jsx_runtime.jsx)(dist.gG,{of:ICHSettingsContent_stories.Default,height:"60vh",meta:ICHSettingsContent_stories}),"\n",(0,jsx_runtime.jsxs)(_components.p,{children:["Use the ",(0,jsx_runtime.jsx)(_components.code,{children:"status"})," radio control to view the interface during an unexpected error,\nloading, and a success respectively"]}),"\n",(0,jsx_runtime.jsx)(dist.H2,{of:ICHSettingsContent_stories.Default,exclude:["codes"]}),"\n",(0,jsx_runtime.jsx)(_components.p,{children:"When we have multiple Fresh fund codes active, we will include them all"}),"\n",(0,jsx_runtime.jsx)(dist.gG,{of:ICHSettingsContent_stories.MultipleCodes,height:"60vh",meta:ICHSettingsContent_stories}),"\n",(0,jsx_runtime.jsx)(dist.H2,{of:ICHSettingsContent_stories.MultipleCodes})]})}const InstacartHealthcodeDisplayDocs=function MDXContent(props={}){const{wrapper:MDXLayout}=Object.assign({},(0,lib.RP)(),props.components);return MDXLayout?(0,jsx_runtime.jsx)(MDXLayout,Object.assign({},props,{children:(0,jsx_runtime.jsx)(_createMdxContent,props)})):_createMdxContent(props)}},"./src/stories/delivery/popup/InstacartPreSubmitWithHealthCodes.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,InDeliveryModal:()=>InDeliveryModal,NoCodesAvailible:()=>NoCodesAvailible,__namedExportsOrder:()=>__namedExportsOrder,default:()=>__WEBPACK_DEFAULT_EXPORT__});var _home_steve_projects_dinnertime_dinnertime_react_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__("../../node_modules/@babel/runtime/helpers/esm/extends.js"),_home_steve_projects_dinnertime_dinnertime_react_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("../../node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js"),_home_steve_projects_dinnertime_dinnertime_react_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("../../node_modules/@babel/runtime/helpers/esm/slicedToArray.js"),_home_steve_projects_dinnertime_dinnertime_react_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("../../node_modules/@babel/runtime/helpers/esm/defineProperty.js"),_components_base_box__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/components/base/box/index.ts"),_components_delivery_InstacartHealthTutorial__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./src/components/delivery/InstacartHealthTutorial.tsx"),_utils_storybook__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./src/utils/storybook.tsx"),_emotion_react__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("../../node_modules/@emotion/react/dist/emotion-element-f0de968e.browser.esm.js"),_faker_js_faker__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("../../node_modules/@faker-js/faker/dist/esm/index.mjs"),msw__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("../../node_modules/msw/lib/core/http.mjs"),msw__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("../../node_modules/msw/lib/core/HttpResponse.mjs"),_storybook_preview_api__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("@storybook/preview-api"),react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../../node_modules/next/dist/compiled/react/index.js"),_components_delivery_InstacartTutorialPopup__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/components/delivery/InstacartTutorialPopup.tsx"),_excluded=["codeRedeemed","codes"],__jsx=react__WEBPACK_IMPORTED_MODULE_0__.createElement;function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,o)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach((function(r){(0,_home_steve_projects_dinnertime_dinnertime_react_node_modules_babel_runtime_helpers_esm_defineProperty_js__WEBPACK_IMPORTED_MODULE_1__.A)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}var meta={component:_components_delivery_InstacartHealthTutorial__WEBPACK_IMPORTED_MODULE_3__.lO,parameters:{docs:{inlineStories:!0,iframeHeight:800},msw:{handlers:[msw__WEBPACK_IMPORTED_MODULE_8__.L.patch("/api/v2/instacart-health-codes/:id/",(function(req){var id=req.params.id,newCode=_faker_js_faker__WEBPACK_IMPORTED_MODULE_5__.Jb.string.alphanumeric({length:12});return msw__WEBPACK_IMPORTED_MODULE_9__.c.json({id,code_requested:!0,code:newCode})}))]}},args:{codes:[],codeRetrieved:!1,variant:"light",showModal:!0},argTypes:{},decorators:[function(Story,ctx){(0,_emotion_react__WEBPACK_IMPORTED_MODULE_10__.u)();return ctx.args.showModal?__jsx(_components_delivery_InstacartTutorialPopup__WEBPACK_IMPORTED_MODULE_7__.ar,{isOpen:!0,isDismissable:!1,onSubmit:function onSubmit(){}},__jsx(Story,null)):__jsx(_components_base_box__WEBPACK_IMPORTED_MODULE_2__.a,{padding:"m",backgroundColor:"dark"===ctx.args.variant?"darkCardBackground":"transparentWhite"},__jsx(Story,null))},(0,_utils_storybook__WEBPACK_IMPORTED_MODULE_4__.ru)(),(0,_utils_storybook__WEBPACK_IMPORTED_MODULE_4__.IB)()]};const __WEBPACK_DEFAULT_EXPORT__=meta;var Default={name:"With Referral URLs",args:_objectSpread(_objectSpread({},meta.args),{},{codes:[{code:"12345",code_requested:!1,id:"1",value_dollars:"25.00",redeem_code_url:"#testing"}],codeRetrieved:!0}),parameters:{},render:function Render(args){var _useArgs=(0,_storybook_preview_api__WEBPACK_IMPORTED_MODULE_6__.useArgs)(),_useArgs2=(0,_home_steve_projects_dinnertime_dinnertime_react_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_11__.A)(_useArgs,2),codes=_useArgs2[0].codes,updateArgs=_useArgs2[1],codeName=(0,react__WEBPACK_IMPORTED_MODULE_0__.useRef)(_faker_js_faker__WEBPACK_IMPORTED_MODULE_5__.Jb.string.alphanumeric({length:10}));return(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((function(){args.codeRetrieved?updateArgs({codes:[_objectSpread(_objectSpread({},codes[0]),{},{code_requested:!0,code:codeName.current})],displayState:"retrieved"}):updateArgs({codes:[_objectSpread(_objectSpread({},codes[0]),{},{code_requested:!1,code:"xxxx"})],displayState:"start"})}),[args.codeRetrieved]),__jsx(_components_delivery_InstacartHealthTutorial__WEBPACK_IMPORTED_MODULE_3__.lO,_objectSpread(_objectSpread({},args),{},{codes}))}},InDeliveryModal={argTypes:{codeRedeemed:{type:"boolean"}},args:_objectSpread(_objectSpread({},Default.args),{},{codeRedeemed:!0}),parameters:_objectSpread(_objectSpread({},Default.parameters),{},{controls:{include:["codeRedeemed"]}}),render:function Render(_ref){var codeRedeemed=_ref.codeRedeemed,codes=_ref.codes,args=(0,_home_steve_projects_dinnertime_dinnertime_react_node_modules_babel_runtime_helpers_esm_objectWithoutProperties_js__WEBPACK_IMPORTED_MODULE_12__.A)(_ref,_excluded),computedCodes=(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((function(){return codes.map((function(x){return _objectSpread(_objectSpread({},x),{},{code_requested:!!codeRedeemed})}))}),[codes,codeRedeemed]);return __jsx(_components_delivery_InstacartHealthTutorial__WEBPACK_IMPORTED_MODULE_3__.lO,(0,_home_steve_projects_dinnertime_dinnertime_react_node_modules_babel_runtime_helpers_esm_extends_js__WEBPACK_IMPORTED_MODULE_13__.A)({codes:computedCodes},args))}},NoCodesAvailible={argTypes:{},args:_objectSpread(_objectSpread({},Default.args),{},{codes:[]}),parameters:_objectSpread(_objectSpread({},Default.parameters),{},{controls:{}})};Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"{\n  name: 'With Referral URLs',\n  args: {\n    ...meta.args,\n    codes: [{\n      code: '12345',\n      code_requested: false,\n      id: '1',\n      value_dollars: '25.00',\n      redeem_code_url: '#testing'\n    } as InstacartHealthCodeSchema],\n    codeRetrieved: true\n  },\n  parameters: {},\n  render: function Render(args) {\n    const [{\n      codes\n    }, updateArgs] = useArgs();\n    const codeName = useRef(faker.string.alphanumeric({\n      length: 10\n    }));\n    useEffect(() => {\n      if (args.codeRetrieved) {\n        updateArgs({\n          codes: [{\n            ...codes[0],\n            code_requested: true,\n            code: codeName.current\n          }],\n          displayState: 'retrieved'\n        });\n      } else {\n        updateArgs({\n          codes: [{\n            ...codes[0],\n            code_requested: false,\n            code: 'xxxx'\n          }],\n          displayState: 'start'\n        });\n      }\n    }, [args.codeRetrieved]);\n    return <InstacartPreSubmitWithHealthCodes {...{\n      ...args,\n      codes\n    }} />;\n  }\n}",...Default.parameters?.docs?.source}}},InDeliveryModal.parameters={...InDeliveryModal.parameters,docs:{...InDeliveryModal.parameters?.docs,source:{originalSource:"{\n  argTypes: {\n    codeRedeemed: {\n      type: 'boolean'\n    }\n  },\n  args: {\n    ...Default.args,\n    codeRedeemed: true\n  },\n  parameters: {\n    ...Default.parameters,\n    controls: {\n      include: ['codeRedeemed']\n    }\n  },\n  render: function Render({\n    codeRedeemed,\n    codes,\n    ...args\n  }) {\n    const computedCodes = useMemo(() => codes.map(x => ({\n      ...x,\n      code_requested: !!codeRedeemed\n    })), [codes, codeRedeemed]);\n    return <InstacartPreSubmitWithHealthCodes codes={computedCodes} {...args}></InstacartPreSubmitWithHealthCodes>;\n  }\n}",...InDeliveryModal.parameters?.docs?.source}}},NoCodesAvailible.parameters={...NoCodesAvailible.parameters,docs:{...NoCodesAvailible.parameters?.docs,source:{originalSource:"{\n  argTypes: {},\n  args: {\n    ...Default.args,\n    codes: []\n  },\n  parameters: {\n    ...Default.parameters,\n    controls: {\n      // include: ['codeRedeemed'],\n    }\n  }\n}",...NoCodesAvailible.parameters?.docs?.source}}};const __namedExportsOrder=["Default","InDeliveryModal","NoCodesAvailible"]}}]);